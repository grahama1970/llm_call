# Test Report - 2025-05-26 08:33:29

## Summary
- **Total Tests**: 68
- **Passed**: 42 (61.8%)
- **Failed**: 25 (36.8%)
- **Skipped**: 1 (1.5%)
- **Duration**: 53.46s

## Test Results

| Test Name | Description | Result | Status | Duration | Timestamp | Error Message |
|-----------|-------------|--------|--------|----------|-----------|---------------|
| test_ask_basic | Test basic ask command. | assert result.exit_code == 0 | Fail | 2.918s | 2025-05-26 08:33:33 | self = <test_cli_comprehensive.TestAskCommand object at 0x731cd3c8ae00>      def test_ask_basic(self... |
| test_ask_with_model | Test ask command with model selection. | assert result.exit_code == 0 | Fail | 3.199s | 2025-05-26 08:33:36 | self = <test_cli_comprehensive.TestAskCommand object at 0x731cd3c8af20>      def test_ask_with_model... |
| test_ask_with_validation | Test ask command with validation. | Success | Pass | 3.102s | 2025-05-26 08:33:40 |  |
| test_ask_json_mode | Test ask command with JSON mode. | Skipped | Skip | 0.000s | 2025-05-26 08:33:40 |  |
| test_ask_with_system_prompt | Test ask command with system prompt. | assert result.exit_code == 0 | Fail | 3.077s | 2025-05-26 08:33:43 | self = <test_cli_comprehensive.TestAskCommand object at 0x731cd3c8b280>      def test_ask_with_syste... |
| test_ask_show_config | Test ask command with config display. | Success | Pass | 3.075s | 2025-05-26 08:33:46 |  |
| test_chat_basic | Test basic chat command. | >       assert result.exit_code == 0 | Fail | 0.009s | 2025-05-26 08:33:46 | self = <test_cli_comprehensive.TestChatCommand object at 0x731cd3c8b670>      def test_chat_basic(se... |
| test_chat_with_system | Test chat with system prompt. | >       assert result.exit_code == 0 | Fail | 0.006s | 2025-05-26 08:33:46 | self = <test_cli_comprehensive.TestChatCommand object at 0x731cd3c8b7f0>      def test_chat_with_sys... |
| test_call_json_config | Test call command with JSON config. | assert result.exit_code == 0 | Fail | 3.136s | 2025-05-26 08:33:49 | self = <test_cli_comprehensive.TestCallCommand object at 0x731cd3c8ba00> sample_config_json = PosixP... |
| test_call_yaml_config | Test call command with YAML config. | assert result.exit_code == 0 | Fail | 3.023s | 2025-05-26 08:33:52 | self = <test_cli_comprehensive.TestCallCommand object at 0x731cd3c8bbb0> sample_config_yaml = PosixP... |
| test_call_with_overrides | Test call command with config overrides. | >       assert result.exit_code == 0 | Fail | 0.008s | 2025-05-26 08:33:52 | self = <test_cli_comprehensive.TestCallCommand object at 0x731cd3c8bd60> sample_config_json = PosixP... |
| test_models_list_all | Test listing all models. | Success | Pass | 0.007s | 2025-05-26 08:33:52 |  |
| test_models_filter_provider | Test filtering models by provider. | assert result.exit_code == 0 | Fail | 0.003s | 2025-05-26 08:33:52 | self = <test_cli_comprehensive.TestModelCommands object at 0x731cd3ad4160>      def test_models_filt... |
| test_validators_list | Test listing validation strategies. | Success | Pass | 0.011s | 2025-05-26 08:33:52 |  |
| test_config_example_json | Test generating example JSON config. | Success | Pass | 0.004s | 2025-05-26 08:33:52 |  |
| test_config_example_yaml | Test generating example YAML config. | Success | Pass | 0.006s | 2025-05-26 08:33:52 |  |
| test_generate_claude | Test Claude slash command generation. | Success | Pass | 0.010s | 2025-05-26 08:33:52 |  |
| test_generate_mcp_config | Test MCP config generation. | Success | Pass | 0.005s | 2025-05-26 08:33:52 |  |
| test_serve_mcp_help | Test serve-mcp command help. | Success | Pass | 0.008s | 2025-05-26 08:33:52 |  |
| test_test_command_no_files | Test 'test' command when no test files exist. | Success | Pass | 0.004s | 2025-05-26 08:33:52 |  |
| test_test_command_with_files | Test 'test' command with test files. | Success | Pass | 0.020s | 2025-05-26 08:33:52 |  |
| test_test_poc_help | Test test-poc command help. | Success | Pass | 0.008s | 2025-05-26 08:33:52 |  |
| test_readme_examples_exist | Test that commands mentioned in README exist in CLI. | Success | Pass | 0.008s | 2025-05-26 08:33:52 |  |
| test_readme_ask_examples | Test that README 'ask' examples work. | Success | Pass | 3.101s | 2025-05-26 08:33:55 |  |
| test_config_with_validation | Test using config file with validation. | assert result.exit_code == 0 | Fail | 3.111s | 2025-05-26 08:33:58 | self = <test_cli_comprehensive.TestIntegration object at 0x731cd3ad4100> temp_dir = PosixPath('/tmp/... |
| test_generate_then_use_commands | Test generating commands and verifying they're usable. | Success | Pass | 0.022s | 2025-05-26 08:33:58 |  |
| test_call_missing_config | Test call command with missing config file. | Success | Pass | 0.005s | 2025-05-26 08:33:58 |  |
| test_call_invalid_config_format | Test call command with unsupported config format. | Success | Pass | 0.005s | 2025-05-26 08:33:58 |  |
| test_ask_invalid_model | Test handling invalid model. | >       assert result.exit_code == 1 | Fail | 3.099s | 2025-05-26 08:34:02 | self = <test_cli_comprehensive.TestErrorHandling object at 0x731cd3ad55d0>      def test_ask_invalid... |
| test_cli_uses_router_real | Test that CLI properly uses the router with real LLM. | Success | Pass | 2.891s | 2025-05-26 08:34:04 |  |
| test_model_routing_patterns_real | Test different model routing patterns with real routers. | Success | Pass | 0.000s | 2025-05-26 08:34:04 |  |
| test_validation_strategies_applied_real | Test that validation strategies are properly applied with real LLM. | Success | Pass | 3.119s | 2025-05-26 08:34:08 |  |
| test_validation_with_real_response | Test validation with actual LLM response. | Test failed | Fail | 0.000s | 2025-05-26 08:34:08 | self = <test_llm_integration.TestValidationIntegration object at 0x731ccb33fc40>      def test_valid... |
| test_retry_config_in_file | Test retry configuration via config file with real execution. | assert result.exit_code == 0 | Fail | 0.957s | 2025-05-26 08:34:09 | self = <test_llm_integration.TestRetryIntegration object at 0x731ccb33fe80> tmp_path = PosixPath('/t... |
| test_openai_integration_real | Test OpenAI provider integration with real API. | Success | Pass | 0.907s | 2025-05-26 08:34:09 |  |
| test_local_model_integration | Test local model integration. | Success | Pass | 0.000s | 2025-05-26 08:34:09 |  |
| test_streaming_disabled_by_default | Test that streaming is disabled by default. | Success | Pass | 3.069s | 2025-05-26 08:34:13 |  |
| test_config_priority_real | Test configuration priority (CLI > file) with real LLM. | >       assert result.exit_code == 0 | Fail | 0.005s | 2025-05-26 08:34:13 | self = <test_llm_integration.TestConfigurationIntegration object at 0x731ccb3786a0> tmp_path = Posix... |
| test_system_prompt_handling_real | Test system prompt is properly added to messages with real LLM. | Success | Pass | 3.095s | 2025-05-26 08:34:16 |  |
| test_llm_error_propagation_real | Test that LLM errors are properly handled with invalid model. | >       assert result.exit_code == 1 | Fail | 3.190s | 2025-05-26 08:34:19 | self = <test_llm_integration.TestErrorHandlingIntegration object at 0x731ccb33fa90>      def test_ll... |
| test_validation_error_handling | Test validation error handling with real validator. | Success | Pass | 0.036s | 2025-05-26 08:34:19 |  |
| test_generate_mcp_config_structure | Test that generated MCP config has correct structure. | Success | Pass | 0.007s | 2025-05-26 08:34:19 |  |
| test_mcp_tool_definitions | Test that MCP tools are properly defined. | assert result.exit_code == 0 | Fail | 0.006s | 2025-05-26 08:34:19 | self = <test_mcp_features.TestMCPConfiguration object at 0x731ccb37b790> temp_dir = PosixPath('/tmp/... |
| test_mcp_parameter_types | Test that parameter types are correctly mapped. | assert result.exit_code == 0 | Fail | 0.003s | 2025-05-26 08:34:19 | self = <test_mcp_features.TestMCPConfiguration object at 0x731ccb37b970> temp_dir = PosixPath('/tmp/... |
| test_serve_mcp_initialization | Test MCP server initialization. | Test failed | Fail | 0.000s | 2025-05-26 08:34:19 | args = (<test_mcp_features.TestMCPServer object at 0x731ccb37bb20>,) keywargs = {}      @wraps(func)... |
| test_serve_mcp_missing_dependency | Test error when FastMCP is not installed. | Success | Pass | 0.003s | 2025-05-26 08:34:19 |  |
| test_serve_mcp_debug_mode | Test MCP server in debug mode. | Test failed | Fail | 0.000s | 2025-05-26 08:34:19 | args = (<test_mcp_features.TestMCPServer object at 0x731ccb37be50>,) keywargs = {}      @wraps(func)... |
| test_add_slash_mcp_commands | Test adding slash/MCP commands to a CLI app. | Success | Pass | 0.000s | 2025-05-26 08:34:19 |  |
| test_generate_claude_via_mixin | Test Claude generation via mixin. | Success | Pass | 0.002s | 2025-05-26 08:34:19 |  |
| test_generate_mcp_via_mixin | Test MCP config generation via mixin. | Success | Pass | 0.002s | 2025-05-26 08:34:19 |  |
| test_slash_mcp_decorator | Test the @slash_mcp_cli decorator. | Test failed | Fail | 0.000s | 2025-05-26 08:34:19 | self = <test_mcp_features.TestSlashMCPMixin object at 0x731ccb3bc5e0>      def test_slash_mcp_decora... |
| test_claude_slash_command_format | Test that Claude slash commands have correct format. | assert result.exit_code == 0 | Fail | 0.010s | 2025-05-26 08:34:19 | self = <test_mcp_features.TestClaudeIntegration object at 0x731ccb3bc7f0> temp_dir = PosixPath('/tmp... |
| test_claude_command_skip_list | Test that certain commands are skipped for Claude. | Success | Pass | 0.008s | 2025-05-26 08:34:19 |  |
| test_mcp_tool_execution_mapping | Test that MCP tools map correctly to CLI execution. | Success | Pass | 0.004s | 2025-05-26 08:34:19 |  |
| test_full_mcp_generation_workflow | Test generating both Claude and MCP configs. | Success | Pass | 0.011s | 2025-05-26 08:34:19 |  |
| test_mcp_parameter_consistency | Test that parameters are consistent across formats. | assert result.exit_code == 0 | Fail | 0.003s | 2025-05-26 08:34:19 | self = <test_mcp_features.TestMCPEndToEnd object at 0x731ccb3bc0a0> temp_dir = PosixPath('/tmp/tmp1u... |
| test_mcp_env_vars | Test MCP environment variable handling. | Test failed | Fail | 0.000s | 2025-05-26 08:34:19 | self = <test_mcp_features_real.TestMCPConfiguration object at 0x731ccb3bd660>      def test_mcp_env_... |
| test_serve_mcp_command_exists | Test that serve-mcp command is available. | Success | Pass | 0.008s | 2025-05-26 08:34:19 |  |
| test_serve_mcp_help | Test serve-mcp help output. | Success | Pass | 0.007s | 2025-05-26 08:34:19 |  |
| test_generate_claude_command | Test Claude slash command generation. | Success | Pass | 0.008s | 2025-05-26 08:34:19 |  |
| test_claude_command_config_structure | Test Claude command configuration structure. | Test failed | Fail | 0.000s | 2025-05-26 08:34:19 | self = <test_mcp_features_real.TestClaudeIntegration object at 0x731ccb3bdd80>      def test_claude_... |
| test_models_command_as_tool | Test that models command can be used as MCP tool. | Success | Pass | 0.006s | 2025-05-26 08:34:19 |  |
| test_validators_command_as_tool | Test that validators command can be used as MCP tool. | Success | Pass | 0.010s | 2025-05-26 08:34:19 |  |
| test_mcp_llm_call_format | Test that MCP can format LLM calls correctly. | Success | Pass | 2.880s | 2025-05-26 08:34:22 |  |
| test_config_building | Test configuration building from various sources. | Success | Pass | 0.000s | 2025-05-26 08:34:22 |  |
| test_config_file_loading | Test loading configurations from files. | Success | Pass | 0.001s | 2025-05-26 08:34:22 |  |
| test_slash_command_generation | Test slash command configuration generation. | Success | Pass | 0.000s | 2025-05-26 08:34:22 |  |
| test_validation_integration | Test validation strategy integration. | Test failed | Fail | 0.000s | 2025-05-26 08:34:22 | def test_validation_integration():         """Test validation strategy integration."""         print... |

## Test Distribution by Module

| Module | Total | Passed | Failed | Skipped |
|--------|-------|--------|--------|---------|
| tests/llm_call/cli/test_cli_comprehensive.py | 29 | 17 | 11 | 1 |
| tests/llm_call/cli/test_llm_integration.py | 12 | 8 | 4 | 0 |
| tests/llm_call/cli/test_mcp_features.py | 15 | 8 | 7 | 0 |
| tests/llm_call/cli/test_mcp_features_real.py | 8 | 6 | 2 | 0 |
| tests/llm_call/cli/test_unified_integration.py | 4 | 3 | 1 | 0 |