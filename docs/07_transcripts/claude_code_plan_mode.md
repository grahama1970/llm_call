
0:03
Shift tab Shift tab Bam We're in plan
0:07
mode The debate is over Claw Code is
0:10
taking over the engineering world The
0:12
Claw Code team continues their red hot
0:16
streak as the most cracked engineering
0:19
team How are they able to do this The
0:21
creator of Claw Code said it himself
0:24
Generally at Anthropic we have this
0:25
product principle of do the simple thing
0:27
first The team has stealth launched plan
0:30
mode It's simple and powerful How does
0:33
plan mode work and why does it exist
0:36
There are two powerful ways to use plan
0:38
mode We're going to break down right now
0:41
One of these techniques takes a little
0:43
more time but pays you dividends You
0:45
want to make sure you're using the right
0:47
method so you don't waste your valuable
0:49
engineering time Let's master claw code
0:52
plan mode in 20 minutes
Claude Code Plan Mode
0:59
No one knows clawed code better than
1:02
claw code Let's ask it to tell us about
1:05
plan mode Reflect on your system prompt
1:08
Hi can you explain plan mode So with
1:12
certain features you can be sure the
1:14
system prompt has information about it
1:16
Here we're quite literally asking Claude
1:18
code to tell us about its new plan mode
1:20
You can see incoming tokens streaming in
1:23
And we look at that Here is the details
1:25
on plan mode right out of the system
1:27
prompt Plan mode is a special operating
1:29
mode where I research and analyze create
1:31
a plan present the plan for approval
1:34
wait for confirmation So this is really
1:35
important and this is interesting I
1:37
didn't know it had an exit plan mode
1:39
tool This might be a fresh feature that
1:42
just rolled out The cloud code team's
1:44
engineering velocity is mind-blowing I'm
1:46
restricted from making any file edits
1:48
running commands creating or deleting or
1:50
making commits And here we get a nice
1:52
breakdown of when this is useful We're
1:55
working with AI here so we can just ask
1:57
stupid zero judgment questions that
1:59
might have already been explained in the
2:00
previous prompt right Ask stupid
2:02
questions validate your assumptions
2:04
learn fast and move even faster Can plan
2:07
mode create or modify any files Let's
2:11
say like plan MD can you modify that So
2:15
I'm just being super super clear with
2:16
cloud code I want it to repeat things
2:18
back to me After all we are operating in
2:21
plan mode so this is what it's for No
2:24
plan mode cannot create or modify any
2:25
files including plan.MD So this is
2:27
really about building up the context
2:30
window inside of cloud code There's no
2:32
actions There's no mutations happening
2:35
here right So let's be totally clear
2:37
here So I'll say so the purpose of plan
2:40
mode read files understand the codebase
2:43
by loading
2:45
your context window with important
2:47
information
2:49
before we start working then switch out
2:52
and edit correct me if I'm wrong I like
2:56
to use this correct me if I'm wrong to
2:59
decrease sickle fancy basically decrease
3:01
the bias in the model and present a more
3:04
neutral question format These models
3:06
love to tell you exactly what you want
3:08
to hear because it's good for business
3:09
for these AI labs So you have to be
3:11
really clear So I like to use this
3:12
Correct me if I'm wrong It's just a
3:14
little bit more neutral You can see
3:15
cloud code validating exactly what we
3:17
were saying Yes you're exactly right
3:18
That's a perfect understanding of plan
3:20
mode's purpose It's research and
3:22
planning phase where I load analyze
3:24
design present then after you approve
3:27
exit execute and then we run all the
3:29
commands so on and so forth Right This
3:31
is really interesting Notice how claw
3:33
code is converging on the senior
3:36
engineers developer workflow First we
3:38
understand the feature by gathering the
3:40
right information We build up the state
3:42
space of the problem and the solution
3:45
And only then do we start building
3:47
Before plan mode we'd have to do
3:49
something like this right You have your
3:50
long prompt and then we say something
3:52
like this right Don't write update or
3:54
delete anything Just read and plan So
3:57
with two shift tabs we can immediately
4:00
just enable that prompt modification
4:03
Planning mode means you can focus on
4:05
priming your agent with the right
4:07
context before getting work done Great
Engineering With Plan Mode
4:10
So we have this new plan mode Let's put
4:12
it to work
4:15
I'm going to open up cursor here and
4:17
let's enhance our previous proof of
4:20
concept codebase the infinite agentic
4:22
loop In this codebase you can have claw
4:24
code generate infinite versions of a
4:27
solution to your problem until it breaks
4:29
Let's go ahead open up a new terminal
4:32
window here Fire up clog We'll make sure
4:34
we're running the state-of-the-art model
4:36
opus 4 I'm going to run a prime command
4:38
to get our context window loaded with
4:41
key information about this codebase You
4:43
can check out the prime command inside
4:45
of the custom slash command This is a
4:47
really simple one We're just running get
4:48
ls files and we're having cloud code
4:51
read a couple of files So you can also
4:52
see we have claw.md added to this
4:55
directory So claw code is now primed
4:56
I'll hit shift tab tab And now we're in
5:00
plan mode In the beginning I mentioned
5:02
there are two ways to use plan mode You
5:04
can plan then write code or you can plan
5:07
write the plan to a spec file and then
5:10
have cloud code execute on the spec that
5:12
you created Four out of five times I
5:15
recommend the second technique
5:17
specifically for mid to largesized
5:19
features which you should be aiming for
5:22
We have more than enough compute and
5:23
intelligent models in great tools So aim
5:26
big hand off more work to your agent Do
5:29
more in single swings to save time and
5:32
understand how far you can really push
5:35
these models and these tools So right
5:37
now our infinite agentic loop set up in
5:39
this codebase If we open up source or
5:41
source infinite you can see they're
5:43
generating single files And in our
5:45
previous video we looked at these UIs we
5:47
can quickly just take a look at one of
5:49
these If I open up UI hybrid one copy
5:52
the path to this and I just type Chrome
5:56
this inside of bash mode which you can
5:58
trigger inside of cloud code with the
6:00
bang or the exclamation You know you can
6:02
take a look at this Basically we're just
6:03
generating infinite UIs that could do
6:05
many different things If I go to two you
6:08
can see here's another one Here's
6:10
another one Right So we just generated
6:13
all of these interesting user interfaces
6:17
Right Here's another kind of wild one
6:19
Here's another Right We can go you know
6:22
we had tons and tons of these generated
6:24
If if you open up these directories you
6:25
can see all of them You can check these
6:26
out yourself Okay So we ran a prompt
6:28
that generated a ton of UIs inside of a
6:30
single HTML file Okay So very cool What
6:33
we're going to do here is update our
6:35
lower level prompt that we passed into
6:37
our infinite agentic loop prompt and
6:40
we're going to have cloud code plan out
6:42
exactly what we want done here So what
6:43
we're doing here is effectively
6:45
metaprompting I'm writing a prompt
6:47
that's going to write a prompt that is a
6:49
plan aka a spec What I want to do here
6:52
is just something simple I want to
6:53
showcase the power of plan mode And
6:55
instead of writing single self-contained
6:58
HTML files what we'll do is we'll break
7:00
them up into their own isolated
7:02
directory with a CSS.js and HTML file
7:06
Okay And then we're going to embed all
7:07
that in a new plan So let's go ahead and
7:10
get to work there And all we need to do
7:12
is be concise and write a great prompt
7:15
So I'll say let's plan specs V3 And I'll
7:18
say V4 So I'm going to update that
7:20
That's what we want to generate We want
7:23
to build on specs v3 I'm using clause
7:26
autocomplete here with the at@ symbol
7:29
but instead of writing a singlehtml
7:32
file split into CSS.js.html
7:37
we also want to store these three files
7:40
unique directory All right And that's it
7:44
So in plan mode Claude Code is now going
7:46
to get to work filling up its own
7:48
context window with the information it
7:50
needs to plan this workout Okay so we're
7:53
going to kick this off I'm going to
7:54
leave open the specs directory Nothing
7:57
is going to get created here right This
7:58
is all going into Cloud Codes context
8:00
window It's not going to create or
8:02
modify anything right Just like it told
8:04
us here just like we learned by
8:06
prompting and asking questions against
8:08
Cloud Code So let's go ahead and take a
8:09
look at this It's reading context It's
8:11
figuring things out It's understanding
8:13
what it needs to do to build out this V4
8:16
spec right So it has a clear
8:18
understanding of requirements and now
8:20
it's going to present a plan And so this
8:22
is quite interesting right It's planning
8:24
inside of its own context window It's
8:26
just looking at your codebase gathering
8:29
information reading files right It's all
8:32
read There's no mutations there's no
8:34
create there's no update there's no
8:36
deletes It's a very safe mode And very
8:39
importantly this mirrors the beginning
8:41
of a senior engineer's process right We
8:45
plan work first we architect we think we
8:48
plan and only then do we build So let's
8:50
see what we have here It's walking
8:52
through based on my analysis Here's a
8:54
comprehensive plan So this looks decent
8:57
You can see it has this key changes from
8:58
V3 to V4 Each iteration creates its own
9:01
all CSS alljs Perfect So this looks good
9:05
Now I want to ask a question here about
9:07
the implementation There's one key
9:08
detail I want to make sure every version
9:11
that we're going to generate with the
9:12
infinite agentic loop gets their own
9:14
directory with those three files So I'm
9:16
just going to be super clear here and
9:18
showcase you know how you can use plan
9:20
mode So we're basically talking with the
9:22
cloud 4 opus model running on claw code
9:25
to be clear showcase what the output
9:29
durest
9:32
mark directory looks like after running
9:36
three agents And so output directory is
9:39
going to be part of our arguments part
9:42
of our variables inside of our infinite
9:44
agentic loop prompt And so I'm
9:46
referencing this variable here which is
9:48
where all the iterations will be saved
9:50
So I'm going to kick this off I want to
9:51
be super clear about what's going on And
9:53
importantly this conversation we're
9:55
having is getting added to the context
9:58
window Right So check this out This is
10:00
exactly what I wanted to see Right
10:01
Scroll up You can see output dur right
10:03
there However that gets defined in the
10:06
infinite prompt right As a variable We
10:08
then are getting our own separate
10:11
versions And this is exactly what I want
10:13
to see I'm just proving things out uh
10:15
with cloud code right I'm planning with
10:17
cloud code with powerful intelligence
10:20
all my abilities all your abilities
10:22
they're now augmented by cloud code by
10:25
Agenta coding tools and by these models
10:27
So make sure you can tap into it right
10:29
Planning mode really helps us tap into
10:32
this So let's go ahead and kick this off
10:33
I'm going to get out of plan mode So I'm
10:35
going to run shift tab shift tab I want
10:38
to get into autoaccept yolo mode And now
10:41
we'll let cloud code rip build the v4
10:43
spec mirror v3 and be clear about the
10:47
improvements
10:49
we are making And I'll throw in a think
10:51
hard to trigger the reasoning model here
10:54
This is awesome So we're going to get
10:55
our new V4 spec out of this Okay So the
10:59
important thing here is that we're
11:00
having Cloud Code write a new plan
11:03
There's a big problem with if we just
11:05
said you know build out write the code
11:07
for this right We can't see the full
11:09
plan without consistently prompting
11:11
Claude code And remember agents are
11:13
ephemeral What does that mean They're
11:15
temporary They're stateless Their
11:17
context window will be blown away So we
11:19
can improve on plan mode by having it
11:22
write out the full plan into the specs
11:24
directory one of the three essential
11:26
directories for agentic coding Okay And
11:29
then we can once this plan is written
11:31
here we can review it we can iterate on
11:34
it we can tweak it and we can commit it
11:36
to our repository which has many
11:38
downstream positive side effects We'll
11:40
dig into future videos Make sure you're
11:43
subscribed so you don't miss out on
11:44
actionable agentic coding ideas like
11:46
this As you can see week after week
11:48
there's a lot of value we can create
11:51
with powerful agentic coding tools like
11:53
cloud code So we're going to get the
11:55
spec here written It's activated the
11:56
reasoning model We use the think hard
11:58
information dense keyword encoded by the
12:01
cloud code team Where was that Let me
12:02
search for that Up here Yeah right here
12:04
Right I said think hard and this
12:06
triggers the reasoning model Right now
12:09
Claude 4 Opus is running its thinking
12:13
process making sure that everything's
12:14
super clear You can see very importantly
12:16
we're mirroring again another IDK right
12:19
there We're mirroring the V4 structure
12:21
but adapt it for the multifile approach
12:24
This is key And while it's loading here
12:26
we can open up you know UI V3 Again
12:28
definitely check out the previous video
12:30
to really understand the infinite
12:31
agentic prompt and what's really going
12:33
on here But you know you can see just at
12:35
a high level what exactly is going on
12:36
right We're generating uniquely themed
12:38
UI components that combine multiple UIs
12:41
into one elegant solution So that's what
12:43
we're doing there And you can see we
12:44
just got V4 created for us here 360
12:47
lines Let's go ahead and open it up and
12:49
make sure it makes sense Okay So themed
12:52
hybrid UI specification V4 looks awesome
12:55
Builds on V3 with a critical
12:57
architectural improvement separation of
12:58
concerns new modular file structure
13:01
Great And so I just want to quickly look
13:03
through this plan and I want to see this
13:04
key detail right here output
13:07
requirements directory structure UI
13:09
hybrid iteration number very important
13:11
right this differentiates it from v3
13:14
where we just use the iteration number
13:16
from the infinite agentic loop and then
13:17
we just create thehtml here we're
13:19
creating the directory fantastic looks
13:22
great I'm catching cloud code here
13:24
before it makes a mistake I'm going to
13:25
hit escape uh this is one of the you
13:27
know great reasons to see the thinking
13:29
of your model it was about to create an
13:31
updated infinite command which we don't
13:33
need at all this is good I'm going to
13:34
stop it right here then I'm going to
13:36
boot up another agent here Open up a new
13:38
cloud code agent and we're just going to
13:40
kick this off Right So this plan looks
13:42
good It has all the details from V3
13:45
right We just built on the V3 spec And
13:48
so now we're going to kick off this
13:49
infinite agentic workflow with our new
13:51
plan Just to kind of hop back into that
13:53
idea from last week this is the power of
13:56
having higher order prompts What does
13:58
that mean It's just like higher order
14:00
functions where in certain programming
14:02
languages you can pass a function into a
14:04
function We're doing that same thing
14:06
here with auntic coding and with prompt
14:09
engineer We're passing a prompt into a
14:11
prompt right The infinite prompt takes a
14:15
prompt as a parameter that it can
14:17
operate in Okay there's a ton of value
14:19
here We're just scratching the surface
14:21
of what can be done with higher order
14:22
prompts More on that later Again make
14:24
sure to subscribe so you don't miss that
14:26
Let's go ahead and kick this off Right
14:27
so there's V3 Let's close that and let's
14:29
kick off V4 in our new Cloud Code
14:32
instance Check the model We always like
14:34
that big beefy opus model And let's go
14:37
ahead and kick this off right So slash
14:40
um infinite This is a custom slash
14:42
command inside of the directory We'll
14:43
hit tab And now we need a couple of
14:45
arguments So we can go ahead and sync
14:47
these up We need the spec file v4
14:52
We need our output directory source
14:55
group And then we need count How many
Fire Infinite Agentic Loop V4
14:58
iterations are we going to run Uh let's
15:00
just fire off 10 We're going to have 10
15:01
new versions here created Let's go ahead
15:02
and fire this off Now our infinite
15:04
agentic loop is going to read the spec
15:07
output to the source group based on
15:10
whatever is inside of our spec and it's
15:12
going to create 10 versions Let's go
15:13
ahead and let this rip And we're doing
15:14
all this thanks to planning right This
15:17
is all thanks to plans We have plans on
15:19
plans right Custom/comands Then we have
15:22
our specs right Another prompt We had
15:24
you know cloud code in plan mode right
15:27
Thinking building up context So much of
15:30
what we do as engineers in the
15:32
generative AI age in this kind of second
15:34
phase is all about building up
15:37
information sets and organizing
15:38
information for our agents and really
15:41
understanding what our agents can do
15:43
There we go You can see we have two
15:45
waves We're going to run in two batches
15:47
Wave one is going to create five agents
15:48
Wave two is going to create five agents
15:50
as well You can see their themes And now
15:53
cloud code and opus mode is going to
15:54
kick off five agents in parallel Again
15:59
once you finish this video check out the
16:00
previous one to really understand the
16:02
infinite agentic loop prompt Here's the
16:05
magical moment we've all been waiting
16:07
for We're going to get five parallel
16:10
agents kicked off and they're going to
16:12
start working for us There we go
16:18
So you can see we have that new
16:19
directory and we also have those five
16:22
new agents running in parallel here
16:24
Let's go and just open all these
16:26
directories up preemptively and we're
16:28
going to be able to watch all of these
16:30
parallel cloud code agents work together
16:33
to accomplish every version of this task
16:36
Okay And so if somehow you've been
16:39
watching this channel and you haven't
16:40
been convinced of the importance of the
16:42
fundamental principle of AI coding great
16:46
planning is great prompting You should
16:48
absolutely be convinced now Okay a
16:50
leading AI lab ghost launched and used
16:54
the tab key for the feature for quick
16:57
access It might seem like I'm micro
16:59
analyzing but this is what great
17:01
engineering is right Every detail
17:03
matters Every product decision matters
17:05
and every product decision says
17:07
something All right so you can see five
17:09
agents running in parallel doing their
17:11
own isolated pieces of work based on our
17:15
plans um you know principal ad coding
17:17
members and subscribers of the channel
17:18
you've already known about planning and
17:20
architect editor prompt chains and you
17:23
know that key principle that the plan is
17:26
the prompt right we've known this for
17:27
some time now you already have this
17:29
deployed into production you're already
17:31
using this in cloud code every single
17:33
day this is just a new you know mode of
17:36
operating for us as engineers now right
17:38
but if you're just hearing about this
17:39
principle of a coding the plan is the
17:41
prompt check out principled AI coding to
17:44
learn the other Seven principles of AI
17:46
coding link in the description This is
17:48
fantastic right This is working for us
17:50
on our behalf We have five agents here
17:52
Everyone's up to two tool uses It's
17:54
probably going to be three each and then
17:56
we'll be able to dive in and actually
17:57
look at what's going on here Okay so it
17:59
looks like hybrid v2 is coming around
18:02
the corner here This is exactly what
18:04
we've detailed in our plan And thanks to
18:06
Cloud Code in plan mode here right shift
18:09
tab shift tab uh we were able to very
18:12
quickly load up its context window with
18:14
a couple key details right Very concise
18:16
prompts You don't have to type a lot You
18:19
don't have to do a lot with these great
18:21
tools but you do need to know exactly
18:23
what to say and what to ask We focus on
18:25
these key ideas of writing concise
18:27
prompts on the channel all the time All
18:29
right so it looks like all of our
18:30
versions are getting filled out here You
18:32
can see task two complete task three
18:35
complete Both agents had four tool uses
18:37
each They both consumed about you know
18:39
40k of Opus tokens That means there's a
18:42
lot of value in these tokens right Uh 3
18:45
minutes each Not too bad All right And
18:47
all of our other tasks are now complete
18:49
These should all be you know ready for
18:51
us to operate in Now our agent you know
18:53
running about 400 seconds here 5.2K
18:55
tokens on the top level agent Um and now
18:58
we're going to kick off wave two So I'm
19:00
going to stop it here I I want these
19:02
tokens for some other engineering work
19:03
But you can see it's going to kick off
19:05
wave two here I'm going to go ahead and
19:06
stop it here And let's just go ahead and
19:08
look at our results here Right So I can
19:10
type um Chrome Let's open up one of
19:13
these files Copy the reference with
19:16
command shift R And I'll just paste that
19:17
here This is going to open up our brand
19:19
new index script style Still with that
19:23
key prompt of generating interesting new
19:24
UI So let's go ahead and kick this off
19:26
and check this out Right Uh nature's
19:28
answers Uh plant your search seed Very
19:31
interesting All right So we have this
19:32
interesting search bar here We have a
19:34
filter Interesting UI there Let's go on
19:35
to number two And remember these were
19:37
all generated in parallel So this is
19:39
another interesting one that's going to
19:41
validate as we type And phone number
19:43
credit card You see we have complete
19:45
progress at the bottom This is a really
19:47
clean minimalist UI Looks great Let's
19:49
look at V3 Okay And V4 Okay Very cool We
19:54
have like a music player in this kind of
19:57
retro neon style Okay So there's more
20:00
versions here You get the point Um the
20:02
prompt or should I say the prompts and
20:04
this prompt system uh that we have with
20:06
the infinite agentic loop It's doing all
20:08
this work for us This is very powerful
20:11
This is all thanks to planning as a you
20:14
know key engineering concept that's been
20:16
embedded inside of Cloud Code the best
20:20
agentic coding tool in the game right
20:22
now This codebase is going to be
20:23
available to you in the description just
20:25
as last week I'm going to add this new
20:27
spec here And I'll leave source group in
20:29
here as well Planning is a key element
20:31
of software engineering First we think
20:34
then we plan and then we build All with
20:38
our agentic coding tools There's a
20:40
tectonic shift happening in the
20:42
engineering world right now The winning
20:43
engineers and teams are setting up their
20:46
code bases and tools not for themselves
20:49
but for their agents You know where to
20:51
find me every single Monday Stay focused
20:54
